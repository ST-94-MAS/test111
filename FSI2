@echo off
setlocal enabledelayedexpansion

rem ファイルが存在するディレクトリに移動
cd /d "C:\path\to\your\directory"

rem 各サブディレクトリをループ
for /d %%d in (*) do (
    rem サブディレクトリに移動
    cd "%%d"
    
    rem ファイルカウンタを初期化
    set counter=0

    rem サブディレクトリ内のすべてのPNGファイルをループ
    for %%f in (*.png) do (
        rem 新しいファイル名をゼロパディングで設定
            set newname=202402-開A01単-19-RLB_01-001-00!counter!.png
        
        rem ファイル名を変更
        ren "%%f" "!newname!"
        
        rem カウンタをインクリメント
        set /a counter+=1
    )

    rem 親ディレクトリに戻る
    cd ..
)

endlocal
